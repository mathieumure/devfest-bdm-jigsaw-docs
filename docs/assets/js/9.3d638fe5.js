(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{170:function(e,t,a){e.exports=a.p+"assets/img/yoda.649a9b55.jpeg"},181:function(e,t,a){"use strict";a.r(t);var s=[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"episode-v-yoda-contre-attaque"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#episode-v-yoda-contre-attaque","aria-hidden":"true"}},[this._v("#")]),this._v(" Episode V - Yoda contre-attaque")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:a(170),alt:"Yoda"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("cd hands-on-jigsaw-devfest/Yoda-style\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"une-version-sans-vertx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#une-version-sans-vertx","aria-hidden":"true"}},[this._v("#")]),this._v(" Une version sans vertx")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"jlink"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jlink","aria-hidden":"true"}},[this._v("#")]),this._v(" Jlink")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"module-path-module-path"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#module-path-module-path","aria-hidden":"true"}},[this._v("#")]),this._v(" Module Path (--module-path )")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[e._v("Les modules du JDK sont dans ${JAVA_HOME}/jmods")]),e._v(" "),a("li",[e._v("Les jar générés par gradle sont dans :\n"),a("ul",[a("li",[e._v("${BASE_DIR}/api-starwars/build/libs/api-starwars.jar")]),e._v(" "),a("li",[e._v("${BASE_DIR}/api-starwars-local-impl/build/libs/api-starwars-local-impl.jar")]),e._v(" "),a("li",[e._v("${BASE_DIR}/starwars-http-server/build/libs/starwars-http-server.jar")]),e._v(" "),a("li",[e._v("${BASE_DIR}/diffutils/build/libs/diffutils.jar")]),e._v(" "),a("li",[e._v("${BASE_DIR}/fuzzywuzzy/build/libs/fuzzywuzzy.jar")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"la-liste-des-modules-a-ajouter-add-modules"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#la-liste-des-modules-a-ajouter-add-modules","aria-hidden":"true"}},[this._v("#")]),this._v(" La liste des modules à ajouter (--add-modules)")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("org.zenika.handson.jigsaw.api.local.impl")]),this._v(" "),t("li",[this._v("org.zenika.handson.jigsaw.http")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"le-lanceur-launcher-optionnel"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#le-lanceur-launcher-optionnel","aria-hidden":"true"}},[this._v("#")]),this._v(" Le lanceur (--launcher) (optionnel)")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v('Votre JRE optimisé peut contenir un script de lancement de votre application. Votre "main class" sera ici dans le module '),t("code",[this._v("org.zenika.handson.jigsaw.http")]),this._v(" et sera "),t("code",[this._v("org.zenika.handson.jigsaw.http.Application")]),this._v(".")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("--launcher death-star-launcher=org.zenika.handson.jigsaw.http/org.zenika.handson.jigsaw.http.Application\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("CONSEILS DE MAITRE YODA")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("blockquote",[t("p",[this._v("Avec la commande "),t("code",[this._v("./$$nom_de_votre_jre_jlink_/bin/java --list-modules")]),this._v(" la sagesse tu connaitras")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"image-docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#image-docker","aria-hidden":"true"}},[this._v("#")]),this._v(" Image Docker")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("code",[this._v("openjdk:11-jdk-oracle")]),this._v(" pour le build")]),this._v(" "),t("li",[t("code",[this._v("debian:sid-slim")]),this._v(" pour l'image final")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("C3P0_H3LP")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("blockquote",[t("p",[this._v("Lancer le build des jar depuis l'image 0 ainsi ./gradlew --no-daemon clean jar")])])}],r=a(0),i=Object(r.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[e._m(0),e._v(" "),e._m(1),e._v(" "),a("p",[e._v("Vous êtes maintenant un maître Jedi et maîtriser complètement Jigsaw. Vous n'avez plus besoin de maître et allez maintenant partir seul pour protéger la galaxie.")]),e._v(" "),e._m(2),e._m(3),e._v(" "),a("p",[e._v("Le maitre de l'Ordre Jedi, Mace Windu, vous a préparé une version allégée du serveur HTTP sans Vertx.")]),e._v(" "),e._m(4),e._v(" "),a("p",[e._v("La maitrise de Jlink est nécessaire à tous maîtres Jedi.\nJlink est un outil permettant de viser la pureté de la force de la JVM en enlevant toutes pensées inutiles qui pourraient obscurcir le démarrage de la JVM.")]),e._v(" "),a("p",[e._v("Jlink permet de créer des JRE packagées exclusivement avec les modules nécessaires à votre application.")]),e._v(" "),a("p",[e._v("Yoda vous a laissé ces indications pour que vous trouviez en vous les modules à utiliser.")]),e._v(" "),a("p",[e._v("Avec BASE_DIR = le répertoire de travail de votre projet.")]),e._v(" "),e._m(5),e._v(" "),e._m(6),e._v(" "),e._m(7),e._v(" "),a("p",[e._v("Votre JRE optimisé devra contenir les modules suivants :")]),e._v(" "),e._m(8),e._v(" "),a("p",[e._v("(les dépendances nécessaires sont obtenues par transitivité)")]),e._v(" "),e._m(9),e._v(" "),e._m(10),e._v(" "),e._m(11),e._m(12),e._v(" "),a("blockquote",[a("p",[e._v("Sur la page "),a("a",{attrs:{href:"http://localhost:8080/infos",target:"_blank",rel:"noopener noreferrer"}},[e._v("infos"),a("OutboundLink")],1),e._v(", moins de modules tu verras, plus forte ta maîtrise sera.")])]),e._v(" "),e._m(13),e._v(" "),e._m(14),e._v(" "),a("p",[e._v("Pour parvenir au rang de grand maitre et approcher à la sagesse de Yoda, il faut maitriser le pouvoir de containerisation.\nVous devez créer une image minimaliste en utilisant Jlink dans une première phase de compilation")]),e._v(" "),a("p",[e._v("Pour cela appuyer vous sur les multi-build de docker avec comme images :")]),e._v(" "),e._m(15),e._v(" "),e._m(16),e._v(" "),e._m(17)])},s,!1,null,null,null);i.options.__file="EPISODE_5.md";t.default=i.exports}}]);